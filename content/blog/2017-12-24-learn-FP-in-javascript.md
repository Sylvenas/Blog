---
title: "Why Learn FP in JavaScript?"
author: [Sylvenas]
categories: "composing software"
img: './img/2017-12-10.jpg'
---

请忘掉你认为你知道的有关JavaScript的任何东西，以初学者的心态来接触这份资料。为帮助你这样做，我们打算从头开始复习JavaScript的基础知识，就像你以前从来没有看到过JavaScript一样。如果你是已经熟悉JavaScript或者纯函数式语言的老手，也许你会认为用JavaScript来探究函数式编程就是个笑话。请把你的这些想法放一边，尝试用新的心态来接触这份博客。你可能会发现这是另一种思路的JavaScript编程。

既然本文是称为"组合软件"，而函数式编程是组合软件的显而易见的方式(使用函数组合、高阶函数等等)，你可能会想知道为什么不使用Hasskell,而是JavaScript。

JavaScript有函数式编程所需的最重要的特性：

* 1.**函数是一等公民**：即将函数用作数据值的能力：传递函数作为参数、返回函数以及将函数复制给变量和对象属性。这个特性允许高阶函数的存在，从而能够使用偏应用、柯里化和函数组合。
* 2.**匿名函数和简洁的`lambda`语法**:`x => x * 2` 在 JavaScript 中是有效的函数表达式。简洁的 Lambda 让它更容易与高阶函数配合。
* 3.**闭包**：闭包是函数与其词法环境捆绑在一起。闭包是在函数创建时创建的。当一个函数被定义在另一个函数内部时，它可以访问外层函数中绑定的变量，即使在外层函数退出之后，也可以访问。闭包是偏应用获取其固定参数的技术原理。固定参数是一个绑定在一个被返回的函数的闭包作用域中的参数。才`add(1)(2)`中，`1`就是被`add(1)`执行完毕之后返回的新函数中的固定参数。

### What JavaScript is Missing

JavaScript支持多种不同类型的编程范式，也就是它支持多种不同风格的编程。JavaScript支持的编程范式包括过程式(命令式)编程(像C一样，函数代表可以被反复重用和组织的指令子程序)，面向对象编程(对象是基本的构造单元)，当然还有函数式编程。多范式编程语言的缺点在于，命令式和面向对象编程趋向于暗示所有的东西都是需要可变的。

可变(Mutation)是指发生在原地的对数据结构的改变。例如：
``` js
const foo = {
  bar: 'baz'
};

foo.bar = 'qux'; // mutation
```
对象通常需要时可修改的,这样起属性就可以通过方法来修改。在命令式编程中，大多数数据结构都是可修改的，以保证高效的对象和数组的直接操作。

如下是一些函数式编程语言所有吗，而JavaScript没有的特性：
* 1.**纯度**：在一些函数是编程语言中，纯度是通过语言强制的。带有副作用的表达式是被禁止的。
* 2.**不可变性**：一些函数式编程语言禁用了可变性。表达式被求值为新的数据结构，而不是直接修改原数据结构，比如数组或者对象。这可能听起来效率底下，不过很多函数式编程语言在幕后使用字典数据结构，而字典树这种结构是以结构共享为特征：这意味着旧对象和新对象共享引用相同的数据。
* 3.**递归**：递归是函数为迭代引用自身的能力。在很多函数式编程语言中，递归式迭代的唯一方法。没有像`for`,`while`,`do`这样的循环语句